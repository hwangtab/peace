"use strict";(self.webpackChunkdear_stranger_archive=self.webpackChunkdear_stranger_archive||[]).push([[999],{367:(e,a,t)=>{t.d(a,{x:()=>n});var s=t(5054);const n=e=>(0,s.W)("/data/musicians.json",e)},1078:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(5043),n=t(8915),r=t(1848),l=t(579);const i=e=>{let{title:a,subtitle:t,backgroundImage:i}=e;const[c,o]=(0,s.useState)(!1),d=(0,r.J)(i);return(0,l.jsxs)("section",{className:"relative h-[500px] md:h-[600px] lg:h-[700px] flex items-center justify-center text-center overflow-hidden",children:[(0,l.jsx)("img",{src:i,srcSet:c?void 0:`\n          ${d.mobile} 800w,\n          ${d.tablet} 1200w,\n          ${d.desktop} 1920w\n        `,sizes:"100vw",alt:a,className:"absolute inset-0 w-full h-full object-cover",loading:"eager",fetchPriority:"high",onError:e=>{if(c)return;const a=e.target;a.src!==i&&(a.src=i,a.removeAttribute("srcset"),o(!0))},width:"1920",height:"700",decoding:"async"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/50 to-black/70"}),(0,l.jsx)("div",{className:"container mx-auto px-4 relative z-10",children:(0,l.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,l.jsx)("h1",{className:"typo-h1 text-white mb-4",children:a}),t&&(0,l.jsx)("p",{className:"typo-subtitle text-gray-100 mb-6",children:t})]})})]})}},7447:(e,a,t)=>{t.d(a,{A:()=>i});t(5043);var s=t(8139),n=t.n(s),r=t(9335),l=t(579);const i=e=>{let{children:a,className:t,background:s="ocean-sand",disableTopPadding:i=!1,disableBottomPadding:c=!1,...o}=e;return(0,l.jsxs)("div",{className:n()("min-h-screen",{"bg-white":"white"===s,"bg-ocean-sand":"ocean-sand"===s,"bg-seafoam":"seafoam"===s,"bg-sunlight-glow":"sunlight-glow"===s,"bg-sky-horizon":"sky-horizon"===s,"bg-light-beige":"light-beige"===s,"bg-jeju-ocean":"jeju-ocean"===s,"bg-golden-sun":"golden-sun"===s},{"pt-24 md:pt-32":!i,"pb-16 md:pb-24":!c},t),children:[(0,l.jsx)(r.A,{...o}),a]})}},7999:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var s=t(5043),n=t(6930),r=t(13),l=t(8915),i=t(9885);var c=t(579);const o=s.memo((e=>{let{audioUrl:a,isPlaying:t,onPlayPause:r,title:o,artist:d}=e;const{t:u}=(0,n.Bd)(),{progress:m,duration:x,getProgressPercent:h,handleSeek:g,formatTime:p}=(e=>{let{audioUrl:a,isPlaying:t}=e;const[n,r]=(0,s.useState)(0),[l,c]=(0,s.useState)(0),o=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(a)return u.current!==a&&(o.current&&(o.current.unload(),o.current=null),o.current=new i.Howl({src:[a],html5:!0,onload:()=>{var e,a;const t=null!==(e=null===(a=o.current)||void 0===a?void 0:a.duration())&&void 0!==e?e:0;c(t)},onend:()=>{r(0)}}),u.current=a),()=>{o.current&&(o.current.unload(),o.current=null),d.current&&(cancelAnimationFrame(d.current),d.current=null)}}),[a]),(0,s.useEffect)((()=>{const e=o.current;if(e){if(t){e.play();const a=()=>{const t=e.seek();"number"===typeof t&&r(t),d.current=requestAnimationFrame(a)};d.current=requestAnimationFrame(a)}else e.pause(),d.current&&(cancelAnimationFrame(d.current),d.current=null);return()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null)}}}),[t]);const m=(0,s.useCallback)((()=>!l||l<=0||!isFinite(l)?0:n&&isFinite(n)?Math.min(n/l*100,100):0),[n,l]),x=(0,s.useCallback)((e=>{const a=o.current;if(!a||!l||l<=0)return;const t=e.currentTarget.getBoundingClientRect(),s=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width))*l;a.seek(s),r(s)}),[l]),h=(0,s.useCallback)((e=>!isFinite(e)||e<0?"0:00":`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`),[]);return{progress:n,duration:l,getProgressPercent:m,handleSeek:x,formatTime:h}})({audioUrl:a,isPlaying:t});return(0,c.jsxs)("div",{className:"w-full bg-white rounded-lg shadow-md p-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsx)(l.P.button,{whileTap:{scale:.95},onClick:r,className:"w-10 h-10 flex items-center justify-center rounded-full bg-ocean-mist text-white hover:bg-jeju-ocean transition-colors",children:t?(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("div",{className:"text-sm font-semibold",children:o}),(0,c.jsx)("div",{className:"text-xs text-gray-500",children:d})]}),(0,c.jsxs)("div",{className:"text-xs text-gray-500",children:[p(m)," / ",p(x)]})]}),(0,c.jsx)("div",{className:"mt-2 h-1 bg-gray-200 rounded cursor-pointer",onClick:g,onTouchEnd:e=>{const a=e.changedTouches[0];if(a){const t={currentTarget:e.currentTarget,clientX:a.clientX};g(t)}},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g(e))},role:"slider",tabIndex:0,"aria-label":u("common.audio_position"),"aria-valuenow":Math.round(m),"aria-valuemin":0,"aria-valuemax":Math.round(x),children:(0,c.jsx)(l.P.div,{className:"h-full bg-coastal-gray rounded",style:{width:`${h()}%`},layout:!0})})]})}));o.displayName="AudioPlayer";const d=o,u=s.memo((e=>{let{track:a,isExpanded:t,onToggle:s,currentlyPlaying:r,onPlay:i}=e;const{t:o}=(0,n.Bd)();return(0,c.jsxs)(l.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,c.jsx)("div",{className:"p-4 cursor-pointer hover:bg-ocean-sand transition-colors",onClick:()=>{s(),i()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s(),i())},role:"button",tabIndex:0,"aria-expanded":t,children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{className:"flex-grow",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,c.jsx)("h3",{className:"text-lg font-bold font-serif",children:a.title}),(0,c.jsx)("span",{className:"text-sm text-coastal-gray ml-4",children:a.duration})]}),(0,c.jsx)("p",{className:"text-jeju-ocean font-serif",children:a.artist})]}),(0,c.jsx)(l.P.button,{animate:{rotate:t?180:0},className:"text-coastal-gray ml-4",children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),t&&(0,c.jsxs)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 pb-4",children:[a.audioUrl&&(0,c.jsx)("div",{className:"mt-4 mb-8",children:(0,c.jsx)(d,{audioUrl:a.audioUrl,isPlaying:r,onPlayPause:i,title:a.title,artist:a.artist})}),a.description&&(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[(0,c.jsx)("h4",{className:"text-lg font-serif text-jeju-ocean",children:o("common.track_desc")}),(0,c.jsx)("div",{className:"flex-grow ml-4 h-px bg-coastal-gray/20"})]}),(0,c.jsx)("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:a.description})]}),a.lyrics&&(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[(0,c.jsx)("h4",{className:"text-lg font-serif text-jeju-ocean",children:o("common.lyrics")}),(0,c.jsx)("div",{className:"flex-grow ml-4 h-px bg-coastal-gray/20"})]}),(0,c.jsx)("div",{className:"bg-ocean-sand/30 p-4 rounded-lg",children:(0,c.jsx)("p",{className:"text-gray-600 whitespace-pre-line leading-relaxed",children:a.lyrics})})]}),a.credits&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[(0,c.jsx)("h4",{className:"text-lg font-serif text-jeju-ocean",children:o("common.credits")}),(0,c.jsx)("div",{className:"flex-grow ml-4 h-px bg-coastal-gray/20"})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(a.credits).map((e=>{let[a,t]=e;return(0,c.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,c.jsx)("span",{className:"text-sm text-coastal-gray font-medium min-w-[80px]",children:"personnel"===a?o("common.label_personnel"):a}),(0,c.jsx)("span",{className:"text-gray-600",children:Array.isArray(t)?0===t.length?"":t.every((e=>"object"===typeof e&&null!==e&&"role"in e&&"name"in e&&Array.isArray(e.name)))?t.map(((e,a)=>(0,c.jsxs)("div",{children:[e.role,": ",e.name.join(", ")]},a))):t.join(", "):String(t)})]},a)}))})]})]})]})}));var m=t(7571),x=t(5054);var h=t(7907),g=t(9713),p=t(4398);const j=e=>{let{enableSectionWrapper:a=!0,hideSectionHeader:t=!1}=e;const{t:i,i18n:o}=(0,n.Bd)(),d=(0,s.useRef)(null),j=(0,r.W)(d,{once:!0,amount:.1}),[b,y]=(0,s.useState)([]),[v,f]=(0,s.useState)(!0),[w,N]=(0,s.useState)(null),[k,P]=(0,s.useState)(null);(0,s.useEffect)((()=>{let e=!1;return(async()=>{f(!0);try{const t=await(a=o.language,(0,x.W)("/data/tracks.json",a));e||y(t)}catch(t){console.error("Failed to load tracks:",t)}finally{e||f(!1)}var a})(),()=>{e=!0}}),[o.language]);const A=(0,s.useCallback)((e=>{N((a=>a===e?null:e))}),[]),S=(0,s.useCallback)((e=>{P((a=>a===e?null:e))}),[]),_=(0,c.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[!t&&(0,c.jsx)(g.A,{title:i("home.tracks.title"),subtitle:i("home.tracks.subtitle"),inView:j}),v?(0,c.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-jeju-ocean"})}):(0,c.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-4 max-w-6xl mx-auto",children:b.map((e=>(0,c.jsx)(u,{track:e,isExpanded:w===e.id,onToggle:()=>A(e.id),currentlyPlaying:k===e.id,onPlay:()=>S(e.id)},e.id)))}),(0,c.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:j?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:.4},className:"text-center mt-16",children:(0,c.jsx)(h.A,{href:p.$.smartstoreUrl,variant:"primary",size:"lg",external:!0,children:i("home.tracks.buy_album")})})]});return a?(0,c.jsx)(m.A,{id:"tracks",background:"sky-horizon",ref:d,children:_}):(0,c.jsx)("div",{ref:d,children:_})};var b=t(7447),y=t(1078),v=t(9245),f=t(367);const w=()=>{const{t:e,i18n:a}=(0,n.Bd)(),[t,r]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{const e=await(0,f.x)(a.language);r(e)})()}),[a.language]);const l=(0,s.useMemo)((()=>(0,v.D8)(t.filter((e=>e.trackTitle&&13!==e.id)).map((e=>({name:e.trackTitle,url:"https://peaceandmusic.net/album/tracks"}))),a.language)),[t,a.language]);return(0,c.jsxs)(b.A,{title:e("album.tracks_page_title"),description:e("album.tracks_page_desc"),keywords:e("album.tracks_page_keywords"),background:"sky-horizon",structuredData:l,disableTopPadding:!0,children:[(0,c.jsx)(y.A,{title:e("nav.track"),subtitle:e("album.tracks_hero_subtitle"),backgroundImage:"/images-webp/gallery/152.webp"}),(0,c.jsx)("div",{className:"pt-12",children:(0,c.jsx)(j,{enableSectionWrapper:!1,hideSectionHeader:!0})})]})}}}]);
//# sourceMappingURL=999.28b1d2f3.chunk.js.map