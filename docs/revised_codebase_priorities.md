# 재검토된 코드베이스 개선 우선순위

## 1. 개요
초기 분석에서 `App.tsx`의 **Code Splitting(Lazy Loading)** 구현 여부를 정확히 파악하지 못한 점을 정정합니다. 현재 프로젝트는 이미 라우트 레벨에서 `React.lazy`와 `Suspense`가 적절히 적용되어 있습니다.

이에 따라, 성능 최적화보다는 **애플리케이션의 안정성(Stability)**과 **품질 보증(QA)**을 최우선으로 하는 새로운 개선 로드맵을 제안합니다.

## 2. 상세 우선순위

### 🚨 [Critical] 에러 바운더리(Error Boundary) 도입
현재 `Suspense`는 로딩 상태를 처리하지만, 네트워크 오류(청크 로드 실패)나 렌더링 에러가 발생했을 때 백업 UI가 없습니다. 이 경우 사용자는 흰 화면(White Screen)을 보게 됩니다.

*   **위험도**: 높음 (운영 환경에서 발생 시 앱 사용 불가)
*   **권장 구현**: `react-error-boundary` 라이브러리 사용 또는 커스텀 클래스 컴포넌트 작성. 전역 수준(`App` 감싸기)과 주요 섹션 수준(개별 페이지)에 적용 필요.

### 🔥 [High] 웹 접근성(Accessibility) 강화
네비게이션 메뉴와 같은 핵심 인터랙티브 요소가 스크린 리더나 키보드 사용자에게 불친절할 수 있습니다.

*   **현재 문제**: 드롭다운 토글 버튼의 상태(`aria-expanded`) 부재, 키보드 포커스 트랩 미구현 등.
*   **권장 구현**:
    *   모든 인터랙티브 요소에 `aria-label`, `role` 속성 검토.
    *   `Focus Management` 로직 추가 (메뉴 열릴 때 포커스 이동).
    *   Lighthouse 접근성 점수 90점 이상 목표.

### 🔥 [High] 테스팅 인프라(Testing Infrastructure) 구축
현재 `App.test.tsx` 외에 유의미한 테스트 코드가 부재합니다. 리팩토링이나 기능 추가 시 사이드 이펙트를 감지할 안전망이 없습니다.

*   **권장 구현**:
    *   **Unit Test**: 유틸리티 함수 및 순수 컴포넌트 테스트.
    *   **Integration Test**: `GallerySection`, `AudioPlayer`, `Navigation`과 같은 복잡한 사용자 흐름이 있는 컴포넌트 우선 작성.
    *   도구: `Jest` + `React Testing Library`.

### 🛠 [Medium] 네비게이션 리팩토링
`Navigation.tsx` 파일이 비대해지고 있으며(약 230라인), 상태 관리 로직과 UI 렌더링이 섞여 있어 유지보수가 어렵습니다.

*   **권장 구현**:
    *   로직 분리: `useNavigation` 커스텀 훅으로 상태(open/close) 로직 이동.
    *   컴포넌트 분리: `DesktopMenu`, `MobileMenu` 등으로 UI 컴포넌트 쪼개기.

### 🛠 [Medium] 상수 및 설정 중앙화
이미지 경로, API 엔드포인트 패턴, 특정 하드코딩된 텍스트들이 코드 곳곳에 산재해 있습니다.

*   **권장 구현**: `src/constants` 폴더를 생성하여 `paths.ts`, `config.ts` 등으로 관리.

### 📉 [Low] 갤러리 가상화(Virtualization)
현재 "더 보기" 방식의 페이지네이션은 충분히 효율적입니다. 하지만 갤러리 아이템이 수천 개 단위로 늘어나거나 사용자가 끝까지 스크롤하는 패턴이 많아진다면 DOM 노드 최적화가 필요할 것입니다. 현재는 안정성과 접근성이 더 시급합니다.

---
*2025-12-18 업데이트됨*
