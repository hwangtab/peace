# 코드 리뷰: 웹사이트 성능 및 코드 품질 개선 제안

## 1. 요약

현재 코드베이스는 Create React App 기반으로 잘 구조화되어 있으나, 웹사이트의 핵심 기능인 **갤러리 데이터 처리 방식**에서 심각한 성능 저하 문제가 발견되었습니다. 모든 이미지 데이터를 프론트엔드에 하드코딩하여 한 번에 불러오는 현재 구조는 사용자의 초기 로딩 경험에 치명적이며, 아카이브가 커질수록 상황은 더욱 악화될 것입니다.

다행히 백엔드 API 서버 없이도 이 문제를 해결할 수 있는 방법이 있습니다. 거대한 데이터 파일을 여러 개의 작은 파일로 분리하고, 필요할 때만 동적으로 불러오도록 개선한다면 비용 없이 성능을 크게 향상시킬 수 있습니다.

또한, 일부 사용되지 않는 파일과 의존성을 정리하고 코드 스타일을 일관성 있게 통일하여 유지보수성을 높이는 방안을 함께 제안합니다.

---

## 2. 심각도 높은 문제 (Critical Issues)

### 2.1. 갤러리 데이터 로딩 방식 (가장 시급)

**문제점:**
- **모든 이미지 데이터를 프론트엔드 번들에 포함:** `src/data/gallery.ts` 파일에 1,200개가 넘는 모든 갤러리 이미지의 메타데이터가 하드코딩되어 있습니다.
- **초기 로딩 시 전체 데이터 전송:** 사용자가 갤러리 페이지에 접속하면, 현재 보이지 않는 이미지를 포함한 모든 이미지의 정보를 한 번에 다운로드하게 됩니다. 이는 초기 로딩 시간을 크게 증가시키는 주된 원인입니다.
- **클라이언트 측에서의 과도한 연산:** `GallerySection.tsx` 컴포넌트는 전체 이미지 데이터를 받은 후, 클라이언트(브라우저)에서 정렬과 필터링을 수행합니다. 데이터 양이 많기 때문에 사용자의 기기, 특히 저사양 모바일 기기에서 버벅임(jank)이나 지연을 유발할 수 있습니다.
- **확장성 부재:** 새로운 이미지가 추가될 때마다 `gallery.ts` 파일은 계속 커지고, 이는 웹사이트 성능을 지속적으로 악화시킬 것입니다.

**개선 방향 (백엔드 API 없이):**
- **데이터 파일을 분리하고 동적으로 로딩:** 현재의 거대한 `gallery.ts` 파일을 작은 단위의 JSON 파일들로 분리하여 `public` 폴더로 이동시킵니다.
  1. **데이터 분리:** `gallery.ts`의 `albumImages`, `camp2023Images`, `camp2025Images` 등을 각각 `album.json`, `camp2023.json`, `camp2025.json` 과 같은 별개의 파일로 만듭니다.
  2. **동적 로딩(Dynamic Fetching):** `GallerySection.tsx` 컴포넌트에서 `import`로 데이터를 가져오는 대신, 사용자가 선택한 필터에 따라 필요한 JSON 파일을 `fetch` API를 사용하여 동적으로 불러옵니다. 예를 들어 '2023 캠프' 필터를 선택하면 그때 `camp2023.json` 파일만 가져옵니다.
  3. **초기 로딩 개선:** 초기에는 전체 이미지 중 대표적인 일부만 보여주거나, 가장 최근의 이벤트(예: `camp2025.json`) 데이터만 먼저 불러와 초기 로딩 부담을 최소화할 수 있습니다.

---

## 3. 코드 품질 및 유지보수성 문제

### 3.1. 불필요한 의존성 및 레거시 자산

**문제점:**
- **`next` 라이브러리:** `package.json`의 `devDependencies`에 `next`가 포함되어 있습니다. 현재 프로젝트는 Create React App 기반이므로 이 라이브러리는 사용되지 않는 것으로 보이며, 불필요하게 의존성을 복잡하게 만듭니다.
- **대용량 미사용 이미지:** `public/hero-bg.jpg` (약 2MB) 파일과 이로부터 생성된 `hero-bg.webp` 파일이 코드베이스에 존재하지만, 실제 `HeroSection` 컴포넌트에서는 다른 이미지를 사용하고 있습니다. 이는 저장소 용량을 낭비하는 레거시 자산입니다.

**개선 방향:**
- `npm uninstall next` 명령을 통해 불필요한 `next` 라이브러리를 제거합니다.
- `public/hero-bg.jpg`와 `public/hero-bg.webp` 파일을 프로젝트에서 삭제합니다.

### 3.2. 모달 구현의 비일관성

**문제점:**
- `ImageLightbox.tsx`는 `framer-motion`을 사용해 직접 구현된 반면, `MusicianModal.tsx`는 `@headlessui/react` 라이브러리를 사용하고 있습니다.
- 두 컴포넌트 모두 모달(Modal) UI를 제공하지만, 구현 방식과 기반 라이브러리가 달라 일관성이 떨어지며 향후 유지보수를 어렵게 만듭니다.

**개선 방향:**
- 모달 구현 방식을 한 가지로 통일합니다. `@headlessui/react`는 접근성을 잘 지원하고 UI 로직을 효과적으로 분리할 수 있으므로, 이를 표준으로 삼는 것을 권장합니다. `ImageLightbox` 컴포넌트를 `@headlessui/react` 기반으로 리팩토링하는 것을 고려해볼 수 있습니다.

---

## 4. 개선 권장 사항 (우선순위 순)

1.  **[P0 - 가장 시급] 갤러리 데이터 로딩 방식 리팩토링:**
    - `gallery.ts` 파일을 이벤트/연도별로 여러 개의 JSON 파일로 분리하고, `public` 폴더로 이동시킵니다.
    - `GallerySection.tsx` 컴포넌트가 `fetch`를 통해 필요한 JSON 파일만 동적으로 가져오도록 수정합니다. 이는 비용 없이 초기 로딩 성능을 극적으로 개선할 수 있는 가장 효과적인 방법입니다.

2.  **[P1 - 중요] 불필요한 자산 및 의존성 제거:**
    - `public/hero-bg.jpg`, `public/hero-bg.webp` 파일을 삭제합니다.
    - `next` 라이브러리를 `devDependencies`에서 제거합니다.

3.  **[P2 - 보통] 모달 구현 방식 통일:**
    - 프로젝트의 모든 모달을 `@headlessui/react` 기반으로 표준화하여 코드의 일관성과 유지보수성을 높입니다.
